<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç</title>
<style>
    body {
        font-family: "Segoe UI", Arial, sans-serif;
        background-color: #e9ecef;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
    }
    .container {
        background: #ffffff;
        max-width: 420px;
        width: 100%;
        margin-top: 40px;
        padding: 30px;
        border-radius: 14px;
        box-shadow: 0 6px 30px rgba(0,0,0,0.1);
    }
    .header {
        text-align: center;
        font-size: 22px;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 8px;
    }
    .language-switch {
        display: flex;
        justify-content: flex-end;
        gap: 8px;
        margin-bottom: 20px;
    }
    .flag-btn {
        border: none;
        background: none;
        cursor: pointer;
        font-size: 26px;
        transition: transform 0.2s;
    }
    .flag-btn:hover {
        transform: scale(1.15);
    }
    label {
        font-weight: 500;
        display: block;
        margin-top: 15px;
        margin-bottom: 6px;
        color: #444;
    }
    input, select, button {
        width: 100%;
        padding: 10px 12px;
        font-size: 15px;
        border: 1px solid #ccc;
        border-radius: 8px;
        box-sizing: border-box;
        transition: border-color 0.3s, box-shadow 0.3s;
    }
    input:focus, select:focus {
        border-color: #a27b5c;
        outline: none;
        box-shadow: 0 0 6px rgba(162, 123, 92, 0.4);
    }
    button {
        background-color: #a27b5c;
        color: white;
        font-weight: 500;
        cursor: pointer;
        margin-top: 20px;
        border: none;
        transition: background-color 0.3s;
    }
    button:hover {
        background-color: #8f6a50;
    }
    .result {
        margin-top: 25px;
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        font-size: 15px;
        color: #333;
    }
    .checkbox-container {
        display: flex;
        align-items: center;
        margin-top: 15px;
    }
    .checkbox-container input {
        width: auto;
        margin-right: 10px;
    }
    .checkbox-label {
        margin: 0;
    }
</style>
</head>
<body>

<div class="container">
    <div class="header" id="title">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–±–º–µ–Ω–∞</div>
    
    <div class="language-switch">
        <button class="flag-btn" onclick="setLanguage('ru')">üá∑üá∫</button>
        <button class="flag-btn" onclick="setLanguage('cn')">üá®üá≥</button>
    </div>

    <label id="question1">–ß—Ç–æ —Ö–æ—á–µ—Ç –æ–±–º–µ–Ω—è—Ç—å –∫–ª–∏–µ–Ω—Ç?</label>
    <select id="choice">
        <option value="1">–û—Ç–¥–∞—Ç—å —Ä—É–±–ª–∏, –ø–æ–ª—É—á–∏—Ç—å —é–∞–Ω–∏</option>
        <option value="2">–û—Ç–¥–∞—Ç—å —é–∞–Ω–∏, –ø–æ–ª—É—á–∏—Ç—å —Ä—É–±–ª–∏</option>
    </select>

    <div class="checkbox-container">
        <input type="checkbox" id="reverseMode">
        <label class="checkbox-label" id="reverseLabel">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –æ—Ç —Å—É–º–º—ã, –∫–æ—Ç–æ—Ä—É—é –ø–æ–ª—É—á–∏—Ç –∫–ª–∏–µ–Ω—Ç</label>
    </div>

    <label id="yourRateLabel">–í–∞—à –∫—É—Ä—Å:</label>
    <input type="text" id="yourRate">

    <label id="clientRateLabel">–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫—É—Ä—Å:</label>
    <input type="text" id="clientRate">

    <label id="amountLabel">–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É:</label>
    <input type="text" id="amount">

    <button id="calculateBtn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>

    <div id="result" class="result" style="display:none;"></div>
</div>

<script>
    const langData = {
        ru: {
            title: "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–±–º–µ–Ω–∞",
            question1: "–ß—Ç–æ —Ö–æ—á–µ—Ç –æ–±–º–µ–Ω—è—Ç—å –∫–ª–∏–µ–Ω—Ç?",
            option1: "–û—Ç–¥–∞—Ç—å —Ä—É–±–ª–∏, –ø–æ–ª—É—á–∏—Ç—å —é–∞–Ω–∏",
            option2: "–û—Ç–¥–∞—Ç—å —é–∞–Ω–∏, –ø–æ–ª—É—á–∏—Ç—å —Ä—É–±–ª–∏",
            reverseLabel: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –æ—Ç —Å—É–º–º—ã, –∫–æ—Ç–æ—Ä—É—é –ø–æ–ª—É—á–∏—Ç –∫–ª–∏–µ–Ω—Ç",
            yourRate: "–í–∞—à –∫—É—Ä—Å:",
            clientRate: "–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫—É—Ä—Å:",
            amount: "–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É:",
            calculateBtn: "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å",
            result: "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:",
            clientGets: "–ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∏—Ç",
            clientGives: "–ö–ª–∏–µ–Ω—Ç –æ—Ç–¥–∞—Å—Ç",
            yourProfit: "–í–∞—à–∞ –ø—Ä–∏–±—ã–ª—å",
            rub: "‚ÇΩ",
            cny: "ÂÖÉ"
        },
        cn: {
            title: "ÂÖëÊç¢ËÆ°ÁÆóÂô®",
            question1: "ÂÆ¢Êà∑ÊÉ≥ÂÖëÊç¢‰ªÄ‰πàÔºü",
            option1: "Áî®Âç¢Â∏ÉÊç¢‰∫∫Ê∞ëÂ∏Å",
            option2: "Áî®‰∫∫Ê∞ëÂ∏ÅÊç¢Âç¢Â∏É",
            reverseLabel: "‰ªéÂÆ¢Êà∑Ëé∑ÂæóÁöÑÈáëÈ¢ùËÆ°ÁÆó",
            yourRate: "ÊÇ®ÁöÑÊ±áÁéá:",
            clientRate: "ÂÆ¢Êà∑Ê±áÁéá:",
            amount: "ËØ∑ËæìÂÖ•ÈáëÈ¢ù:",
            calculateBtn: "ËÆ°ÁÆó",
            result: "ÁªìÊûú:",
            clientGets: "ÂÆ¢Êà∑ÂæóÂà∞",
            clientGives: "ÂÆ¢Êà∑ÊîØ‰ªò",
            yourProfit: "‰Ω†ÁöÑÂà©Ê∂¶",
            rub: "‚ÇΩ",
            cny: "ÂÖÉ"
        }
    };

    let currentLang = "ru";

    function setLanguage(lang) {
        currentLang = lang;
        document.getElementById("title").textContent = langData[lang].title;
        document.getElementById("question1").textContent = langData[lang].question1;
        document.getElementById("choice").options[0].text = langData[lang].option1;
        document.getElementById("choice").options[1].text = langData[lang].option2;
        document.getElementById("reverseLabel").textContent = langData[lang].reverseLabel;
        document.getElementById("yourRateLabel").textContent = langData[lang].yourRate;
        document.getElementById("clientRateLabel").textContent = langData[lang].clientRate;
        document.getElementById("amountLabel").textContent = langData[lang].amount;
        document.getElementById("calculateBtn").textContent = langData[lang].calculateBtn;
    }

    function parseNumber(val) {
        return parseFloat(val.replace(",", "."));
    }

    function normalizeRate(rate) {
        // –ï—Å–ª–∏ –∫—É—Ä—Å < 1, –∑–Ω–∞—á–∏—Ç —ç—Ç–æ —é–∞–Ω–∏ –∑–∞ 1 —Ä—É–±–ª—å, –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ —Ä—É–±–ª–∏ –∑–∞ 1 —é–∞–Ω—å
        return rate < 1 ? 1 / rate : rate;
    }

    function calculate() {
        const choice = document.getElementById("choice").value;
        const reverseMode = document.getElementById("reverseMode").checked;
        const myRateInput = parseNumber(document.getElementById("yourRate").value);
        const clientRateInput = parseNumber(document.getElementById("clientRate").value);
        const amount = parseNumber(document.getElementById("amount").value);

        if (isNaN(myRateInput) || isNaN(clientRateInput) || isNaN(amount)) {
            alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è");
            return;
        }

        // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∫—É—Ä—Å—ã –≤ —Ñ–æ—Ä–º–∞—Ç "—Ä—É–±–ª–µ–π –∑–∞ 1 —é–∞–Ω—å"
        const myRate = normalizeRate(myRateInput);
        const clientRate = normalizeRate(clientRateInput);

        let clientGets, clientGives, rubProfit, cnyProfit;

        if (choice === "1") {
            if (reverseMode) {
                // –ö–ª–∏–µ–Ω—Ç —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —é–∞–Ω–µ–π
                const cny_received = amount;
                const rub_to_take = cny_received * clientRate;
                const my_cny = rub_to_take / myRate;
                cnyProfit = my_cny - cny_received;
                rubProfit = cnyProfit * myRate;
                clientGets = `${cny_received.toFixed(2)} ${langData[currentLang].cny}`;
                clientGives = `${rub_to_take.toFixed(2)} ${langData[currentLang].rub}`;
            } else {
                // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º - –∫–ª–∏–µ–Ω—Ç –æ—Ç–¥–∞—ë—Ç —Ä—É–±–ª–∏
                const cny_received = amount / clientRate;
                const my_cny = amount / myRate;
                cnyProfit = my_cny - cny_received;
                rubProfit = cnyProfit * myRate;
                clientGets = `${cny_received.toFixed(2)} ${langData[currentLang].cny}`;
                clientGives = `${amount.toFixed(2)} ${langData[currentLang].rub}`;
            }
        } else {
            if (reverseMode) {
                // –ö–ª–∏–µ–Ω—Ç —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—É–±–ª–µ–π
                const rub_received = amount;
                const cny_to_take = rub_received / clientRate;
                const my_rub = cny_to_take * myRate;
                rubProfit = my_rub - rub_received;
                cnyProfit = rubProfit / myRate;
                clientGets = `${rub_received.toFixed(2)} ${langData[currentLang].rub}`;
                clientGives = `${cny_to_take.toFixed(2)} ${langData[currentLang].cny}`;
            } else {
                // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º - –∫–ª–∏–µ–Ω—Ç –æ—Ç–¥–∞—ë—Ç —é–∞–Ω–∏
                const my_rub = amount * myRate;
                const client_rub = amount * clientRate;
                rubProfit = my_rub - client_rub;
                cnyProfit = rubProfit / myRate;
                clientGets = `${client_rub.toFixed(2)} ${langData[currentLang].rub}`;
                clientGives = `${amount.toFixed(2)} ${langData[currentLang].cny}`;
            }
        }

        document.getElementById("result").style.display = "block";
        document.getElementById("result").innerHTML = `
            <strong>${langData[currentLang].result}</strong><br>
            ${reverseMode ? langData[currentLang].clientGives : langData[currentLang].clientGets}: ${clientGets}<br>
            ${!reverseMode ? langData[currentLang].clientGives : langData[currentLang].clientGets}: ${clientGives}<br>
            ${langData[currentLang].yourProfit}: ${rubProfit.toFixed(2)} ${langData[currentLang].rub}<br>
            ${langData[currentLang].yourProfit}: ${cnyProfit.toFixed(2)} ${langData[currentLang].cny}
        `;
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–∑—ã–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    window.onload = function() {
        setLanguage('ru');
        document.getElementById('calculateBtn').onclick = calculate;
    };
</script>

</body>
</html>